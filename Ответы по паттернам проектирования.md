#собеседование #паттерны #проектирование



### Что такое шаблоны проектирования?
«Шаблоны проектирования — это коды расширения, используемые для решения общих проблем в процессе разработки программного обеспечения, таких как повторяющийся код, кодирование всего с нуля и добавление дополнительных свойств или функций. Эти шаблоны экономят время и усилия, используя динамические аспекты объектно-ориентированного программирования, чтобы позволить пользователю решать, какие выходные данные будут отображаться, рационализируя отношения между объектами».
### Какие существуют категории шаблонов проектирования?
 «Три категории паттернов проектирования — это порождающие паттерны, которые позволяют свободно выбирать, как создавать объекты, скрывая при этом логику; структурные паттерны, которые определяют и упрощают отношения между объектами и используют наследование для придания объектам дополнительных функций; и поведенческие паттерны. , которые определяют, как объекты взаимодействуют друг с другом».
### Опишите заводской образец

Фабричный шаблон — это порождающий шаблон проектирования, который действует как контейнер для порождающей логики, отделяя его от зависимого кода, чтобы позволить определенным подклассам вносить изменения в расширение, не затрагивая основной API. Это широко используемый шаблон, потому что он один из лучших способов создания объектов без раскрытия собственной логики создания, оставаясь при этом доступным через общий интерфейс»
### Различайте заводские и абстрактные заводские шаблоны проектирования.
Основное различие между ними заключается в следующем: фабричный шаблон — это метод создания одного объекта посредством наследования, в то время как абстрактный фабричный шаблон создает фабричные шаблоны, эффективно создавая семейства связанных объектов».
### В каком порядке вы бы описали шаблон проектирования в его документации?
Пример: «Аспекты шаблона проектирования задокументированы следующим образом:

1. Название шаблона и классификация
    
2. Намерение (решаемая проблема)
    
3. Мотивация (как проблема будет решена)
    
4. Применимость (случаи, в которых шаблон может быть применен)
    
5. Структура (схема узора)
    
6. Участники (классы и объекты и их обязанности)
    
7. Сотрудничество (как участники будут взаимодействовать для достижения цели)
    
8. Последствия (компромисс модели)
    
9. Реализация (определяет конкретные проблемы с языком)
    
10. Образец (фрагменты кода, инструктирующие реализацию шаблона)
    
11. Использование (определяет использование в реальном мире)
    
12. Связанные шаблоны”
### Каковы, по вашему мнению, преимущества шаблона проектирования Builder?
«По моему опыту, я обнаружил, что шаблон построителя выгоден тем, что он инкапсулирует код построения и представления в отдельных контейнерах, что позволяет процессу построения создавать несколько представлений.

Кроме того, мне нравится улучшенный контроль, который он дает мне над процессом создания объекта, разбивая его на этапы, чтобы он казался менее сложным, чем он есть. Это также уменьшает требуемые параметры для повышения простоты и удобочитаемости и позволяет быстро встраивать неизменяемые объекты в шаблон».
### Чем шаблон моста отличается от шаблона адаптера?
«Шаблоны адаптера и моста очень похожи. Оба они считаются формой инкапсуляции и обеспечивают больший контроль над изменениями кода, не влияя на структуру класса. Однако основное различие между ними заключается в том, что использование шаблона моста разделяет необходимые данные из его реализации, в то время как шаблон адаптера позволяет несовместимым классам взаимодействовать друг с другом без изменения исходного кода.

Например, слот для карты памяти на компьютере — это адаптер, который позволяет карте памяти взаимодействовать с компьютером. Схема моста может быть представлена ​​на примере бытового выключателя света. Переключатель для устройства может быть в виде цепочки, двухпозиционного переключателя или диммера, но независимо от формы мостовая схема гарантирует, что переключатель выполняет задачу включения и выключения света».
### Опишите одноэлементный шаблон и основные преимущества и недостатки, связанные с ним.
«Шаблон Singleton — это порождающий шаблон, который ограничивает экземпляр класса только одним единственным экземпляром, который сможет координировать действия во всей системе. Шаблон проектирования Singleton выгоден, поскольку его можно использовать снова и снова без необходимости. воссоздавать новый объект для каждого запроса, что значительно экономит время и место.

Однако код становится настолько тесно связанным, что вы не можете вносить изменения, не затрагивая все, что с ним связано. Он также не поддерживает наследование и может быть легко взломан».
### Считаете ли вы, что использование шаблона проектирования прототипа лучше, чем создание экземпляра с использованием нового ключевого слова? Если да, то почему?
«При определенных обстоятельствах, таких как ограничения по пространству или производительности, создание объекта слишком громоздко и требует чрезмерного количества ресурсов, до такой степени, что создание совершенно нового экземпляра повлияет на производительность. В этих случаях использование шаблона проектирования прототипа может обеспечить большую эффективность за счет клонирования аналогичного объекта. В этом случае да, шаблон проектирования прототипа будет работать более выгодно».
## Кто пользуется паттернами проектирования

Паттерны используют программисты на разных [языках](https://blog.skillfactory.ru/glossary/yazyk-programmirovaniya/), в первую очередь те, которые занимаются [объектно-ориентированным программированием](https://blog.skillfactory.ru/glossary/oop-obektno-orientirovannoe-programmirovanie/). Само понятие паттерна тесно связано с ООП: этот подход позволяет разбить структуру программы на формализованные классы и объекты. Решение строится из них, как из кирпичиков. Такой вид разработки хорошо сочетается с паттернами.

В широком смысле паттерны проектирования применяются во всех отраслях, где есть списки часто встречающихся формализованных проблем. В разработке это почти любое направление.
## Для чего нужны паттерны

В программировании есть задачи, которые встречаются часто и с которыми сталкивается большинство разработчиков. Придумывать новое уникальное решение каждый раз было бы трудозатратно и неэффективно, поэтому существуют паттерны, на которые можно ориентироваться.

Паттерны проектирования помогают быстрее и эффективнее создавать [код](https://blog.skillfactory.ru/glossary/programmnyj-kod/), а не «изобретать велосипеды». Как с созданием любого продукта: лучше воспользоваться знаниями, которые наработали другие, чем продумывать с нуля абсолютно все.

Если разработчик может грамотно формализовать проблему с помощью ООП и выбрать подходящий паттерн для ее решения, это может серьезно ускорить сроки разработки. А решение будет понятным и эффективным – это уже доказали люди, которые начали применять конкретный паттерн раньше.

Кроме того, использование паттернов еще и улучшает читаемость кода. Другой программист, знакомый с нужным паттерном, сможет увидеть его в коде и понять, как все реализовано. А ведь в разработке обычно задействовано несколько специалистов – коммуникация между ними упрощается.
## Как устроены паттерны

Типичный паттерн — это формализованное решение какой-либо проблемы. Оно может быть представлено как [алгоритм](https://blog.skillfactory.ru/glossary/algoritm/) или как схема, блоки которой означают части программы.

У паттернов есть свои имена, есть описания, они четко предназначены для решения той или иной проблемы. Имеется и классификация – в первую очередь по тому, для чего нужен тот или иной шаблон.

## Отличия паттернов проектирования от архитектурных

Кроме паттернов проектирования, еще есть архитектурные паттерны. Они работают по тому же принципу, но с важным различием. Архитектурные паттерны – высшего уровня, они описывают структуру всего продукта. А паттерны проектирования применяются уже на уровне конкретных объектов, алгоритмов и частей программы.

Если упростить, архитектурный паттерн отвечает на вопрос «как будет устроен продукт». Например, [модель MVC](https://blog.skillfactory.ru/glossary/mvc/) — архитектурный паттерн.

А паттерн проектирования отвечает на вопрос «как лучше организовать составные части продукта»: как эффективнее создавать объекты, настраивать обмен данными между ними и их взаимодействие. Паттерны проектирования адаптированы под конкретную задачу, не зависят от языка программирования и не влияют на структуру продукта целиком. Они описывают детали, а не общую архитектуру.

Еще есть идиомы — это тоже формализованные способы решения проблем, но зависящие от языка программирования. Они реализуются на еще более мелком уровне для решения конкретных задач – например, утечки памяти.
## Виды паттернов проектирования

**Порождающие.** Такие шаблоны нужны, чтобы оптимизировать создание того или иного объекта. Порождающие паттерны помогают создавать объекты так, чтобы они эффективно общались с другими, и управлять их работой. Вот несколько примеров:

- «Фабрика» (Factory) — для создания новых объектов придумывают отдельный класс. Он создает объекты как копии некоего эталона;
- «Прототип» (Prototype) — объект сам создает свои копии;
- «Строитель» (Builder) — похож на фабрику, но новые объекты можно модифицировать. Они создаются по сложной логике, а не копируют эталонный;
- «Одиночка» (Singleton) — подразумевает наличие одного большого объекта, который имеет глобальный доступ ко всему;
- «Ленивая инициализация» (Lazy Initialization) — метод, при котором объект инициализируется не сразу, а по мере необходимости.

Существуют и другие шаблоны разной сложности. Для каждой задачи оптимальнее тот или иной паттерн. Конкретное решение зависит от задачи, но в результате должна получиться эффективная и оптимизированная система.

**Структурные.** Если порождающие паттерны отвечают за создание и взаимодействие объектов, то структурные — за то, как эти объекты структурированы в коде. Они описывают, каким образом простые классы и объекты «собираются» в более сложные.

Вот примеры:

- «Декоратор» (Decorator) — шаблон для подключения дополнительного поведения к объекту;
- «Компоновщик» (Composite) — паттерн, который объединяет несколько объектов в древовидную структуру;
- «Мост» (Bridge) — принцип разделения сущности на абстракцию и реализацию, чтобы теоретическая структура и конкретный объект могли изменяться независимо;
- «Фасад» (Facade) — метод для сведения внешних вызовов к одному объекту;
- «Заместитель» (Proxy) — паттерн, похожий на «Фасад», но со специальным объектом-заместителем, который контролирует доступ к основному.

Это только некоторые примеры. Реальных паттернов намного больше.

**Поведенческие.** Это паттерны проектирования, которые описывают, как объекты себя ведут и взаимодействуют с другими. Их используют, например, для разделения обязанностей между разными сущностями или для реагирования на изменения без ошибок.

Примеры поведенческих паттернов:

- «Итератор» (Iterator) — один объект последовательно дает доступ к разным другим, при этом не использует их сложные описания;
- «Наблюдатель» (Observer) – шаблон, при котором объекты узнают об изменениях в других;
- «Хранитель» (Memento) — помогает сохранить объект в каком-то состоянии с возможностью вернуться к нему в будущем;
- «Цепочка ответственности» (Chain of Responsibility) — распределяет ответственность за те или иные задачи на разные объекты;
- «Посредник» (Mediator) — организует слабые связи между объектами, чтобы снизить их зависимость друг от друга.

## Как понять, какой паттерн применить

У каждого паттерна своя область использования. Опытные разработчики понимают, где что использовать, по самой специфике задачи, но в начале пути это может быть сложно. Поэтому новичкам советуют разделять выбор паттерна на более мелкие шаги:

- выделить сущности, которые используются в процессе;
- продумать связи между ними;
- абстрагировать получившуюся систему от конкретной задачи;
- посмотреть, не подходит ли проблема по смыслу на что-то, для чего есть паттерн;
- выбрать несколько паттернов из нужной группы и посмотреть какой подходит лучше;
- продумать конкретную реализацию этого паттерна с учетом особенностей задачи.

Это выглядит сложно, но со временем придет привычка. Опытные разработчики уже «набили руку», поэтому проблемы с выбором паттерна у них возникают намного реже. Когда сформируется понимание и наберется практика, будет проще.

## Преимущества паттернов проектирования

- Ускоряют и облегчают написание кода.
- Позволяют не «изобретать велосипед», а воспользоваться готовым проверенным принципом.
- При грамотном использовании делают код более читаемым и эффективным.
- Упрощают взаимопонимание между разработчиками.
- Помогают избавиться от типовых ошибок.
- Не зависят от языка программирования и его особенностей.
- Позволяют реализовывать сложные задачи быстрее и проще.

## Недостатки паттернов проектирования

- Использование паттернов ради паттернов, наоборот, усложняет код и запутывает разработчиков.
- Неправильное применение того или иного шаблона способно сделать программу менее эффективной.
- Паттерны неуниверсальны: в одной задаче конкретный паттерн подойдет, в другой нет.
- На ранних этапах изучения бывает сложно выбрать подходящий для конкретной проблемы паттерн.
- Из-за сильной связи с объектно-ориентированным программированием использование паттернов в других парадигмах ограничено. Хотя, например, в [функциональном программировании](https://blog.skillfactory.ru/glossary/funkczionalnye-yazyki-programmirovaniya/) они могут применяться — просто реализуются иначе.

## Стоит ли пользоваться паттернами

Наличие недостатков не делает саму идею паттернов плохой. Просто это инструмент, которым нужно пользоваться с умом. Не стоит применять шаблоны там, где можно без них обойтись, просто ради «красоты». Если же использовать их в местах, где они действительно нужны – они станут хорошей помощью в работе программиста.

Более того: на собеседованиях уровня Middle и выше почти всегда спрашивают, знаком ли соискатель с паттернами проектирования. То есть их знание и умение ими пользоваться — практически обязательное условие для программиста уровня выше начального. И неважно, на чем вы пишете: [Python](https://blog.skillfactory.ru/glossary/python/), [Java](https://blog.skillfactory.ru/glossary/java/), [JavaScript](https://blog.skillfactory.ru/glossary/javascript/) или что-нибудь еще.

## Как начать работать с паттернами

Паттерны проектирования для новичков — не задача первостепенной важности. К ним обычно переходят люди, у которых есть определенный опыт в программировании, успевшие изучить базовые принципы. Но для перехода на уровень Middle и выше они понадобятся.

Сначала нужно освоить особенности программирования на выбранном языке — некоторые вещи можно почерпнуть уже оттуда. Например, в [JS](https://blog.skillfactory.ru/glossary/javascript/) активно используются декораторы. Затем стоит переходить к изучению самих паттернов: какие они бывают, как устроены, что собой представляют.

Освоив теоретическую часть, можно тренироваться. Ведь фактическая реализация порой может серьезно отличаться от теоретического описания, поэтому нужна практика.
## Что представляет собой паттерн проектирования?

Паттерны проектирования — это стандартные решения типичных архитектурных проблем, которые разработчики регулярно встречают при создании программного обеспечения. Эти решения часто используются в повседневной жизни, например:

- универсальные гнезда розеток и формы вилок облегчают использование электричества;
- вилки и ложки служат универсальными инструментами для употребления пищи;
- чашки удобны для хранения любых жидкостей и т.д.

Люди стремятся упрощать свои повседневные задачи, и программирование не исключение.

Идея создания универсальных решений для разработки программ возникла задолго до 90-х годов XX века, но ключевым моментом стало издание книги "Design Patterns: Elements of Reusable Object-Oriented Software" в 1994 году, авторами которой стали Эрих Гамма, Ричард Хелм, Ральф Джонсон и Джон Влиссидес, известные как "Банда четырех". В этом труде были представлены 23 паттерна, которые заложили основу для многих дискуссий о качественном кодировании.

## Когда используют паттерны в разработке

- Паттерны применяются в разработке для достижения определённых целей в коде.
- Читабельность. Код должен быть понятен для других программистов.
- Масштабируемость. Должна быть возможность легко добавлять новые функции.
- Поддерживаемость. Обновления и изменения в коде должны проходить гладко.

Паттерны также улучшают эффективность и производительность разработчиков, помогая:

- Сокращать количество ошибок и устранять слабые места.
- Облегчать процесс рефакторинга.
- Уменьшать технический долг.
- Улучшать коммуникацию между разработчиками, управленцами проектов, владельцами продукта и другими участниками процесса.

По мере роста кодовой базы, особенно в коммерческих проектах, где ПО должно быть прибыльным, потребность в шаблонах проектирования возрастает. Однако, важно учитывать, что неправильное или избыточное использование паттернов может усложнить код, сделав его более громоздким и трудным для масштабирования. Например, простой функционал, который редко используется и занимает небольшой объём, может не требовать внедрения паттернов. В то время как код, в котором часто встречаются повторяющиеся задачи, такие как сортировка или перебор данных, идеально подходит для применения шаблонов.

Прежде чем применять паттерны, важно тщательно анализировать контекст задачи, чтобы выбрать наиболее подходящие решения.

## Какими бывают паттерны

Классификация паттернов проектирования включает следующие категории:

Порождающие паттерны (Creational Patterns). Эти паттерны упрощают процесс создания объектов, делая систему независимой от специфик деталей инициализации объектов. Примеры включают:

- Абстрактная фабрика (Abstract Factory), управляющая созданием серий связанных или зависимых объектов без указания их конкретных классов.
- Одиночка (Singleton), гарантирующий, что класс имеет только один экземпляр, с глобальной точкой доступа.
- Прототип (Prototype), позволяющий копировать объекты, избегая затратного процесса их нормального создания.
- Фабричный метод (Factory Method), определяющий метод, который должен использовать подкласс для создания объектов.

Структурные паттерны (Structural Patterns). Они ориентированы на упорядочение системы объектов так, чтобы их можно было легко модифицировать независимо друг от друга. Известные примеры:

- Прокси (Proxy), предоставляющий заместитель или заполнитель для другого объекта для контроля доступа к нему.
- Адаптер (Adapter), позволяющий объектам с несовместимыми интерфейсами работать вместе.
- Компоновщик (Composite), позволяющий группировать объекты в древовидные структуры для представления иерархий часть-целое.
- Фасад (Facade), упрощающий сложные системы через предоставление простого интерфейса.

Паттерны поведения (Behavioral Patterns). Эти паттерны занимаются алгоритмами и распределением обязанностей между объектами. Примеры включают:

- Посетитель (Visitor), позволяющий добавлять новые операции к объектам без изменения классов этих объектов.
- Итератор (Iterator), обеспечивающий последовательный доступ ко всем элементам составного объекта без раскрытия его внутреннего представления.
- Цепочка обязанностей (Chain of Responsibility), позволяющая передавать запросы вдоль цепочки обработчиков.
- Стратегия (Strategy), определяющая семейство алгоритмов, инкапсулируемых и взаимозаменяемых, что позволяет выбирать алгоритм независимо от контекста его использования.

## Как выбрать паттерн?

Выбор подходящего паттерна начинается с детального анализа задачи. Рекомендуется разложить задачу на компоненты и оценить, как предлагаемое решение повлияет на проект в целом, включая текущие элементы и будущее развитие кода. Важно учитывать мнения и советы коллег, тимлидеров или архитекторов, которые могут поделиться знаниями о существующей архитектуре и стиле кодирования. После тщательного анализа следует выбор паттерна, при этом нужно взвешивать все плюсы и минусы.